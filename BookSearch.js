const search = document.getElementById('search'); 
search.addEventListener('click', (e) => { 
? ? e.preventDefault(); 
? ? const searchBookUrl = 'http://localhost:8800/books/book/search'; 
? ? const title = document.querySelector('#title').value; 
? ? const author = document.querySelector('#author').value; 
? ? const category = document.querySelector('#category').value; 
? ? fetch(searchBookUrl, { 
? ? ? ? "method": "POST", 
? ? ? ? headers: { 
? ? ? ? ? ? 'Content-Type': 'application/json' 
? ? ? ? }, 
? ? ? ? body: JSON.stringify({ 
? ? ? ? ? ? title: title, 
? ? ? ? ? ? author: author, 
? ? ? ? ? ? category: category 
? ? ? ? }) 
? ? }).then(response => { 
? ? ? ? if (response.status === 200) { 
? ? ? ? ? ? return response.json(); 
? ? ? ? } else { 
? ? ? ? ? ? throw new Error(response.status); 
? ? ? ? } 
? ? }) 
? ? ? ? .then(data => { 
? ? ? ? ? ? if (data.commonResponse.result) { 
? ? ? ? ? ? ? ? const arrayOfBooks = data.books[0]; 
? ? ? ? ? ? ? ? for (var searchBook = 0; searchBook < arrayOfBooks.length; searchBook++) { 
? ? ? ? ? ? ? ? ? ? if (arrayOfBooks[searchBook].bookAvailable) { 
? ? ? ? ? ? ? ? ? ? ? ? const book = arrayOfBooks[searchBook]; 
? ? ? ? ? ? ? ? ? ? ? ? const row = document.createElement("tr"); 
? ? ? ? ? ? ? ? ? ? ? ? const title = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? ? ? const author = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? ? ? const description = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? ? ? const category = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? ? ? const feedback = document.createElement("button"); 
? ? ? ? ? ? ? ? ? ? ? ? const purchase = document.createElement("button"); 
? ? ? ? ? ? ? ? ? ? ? ? const deleteBook = document.createElement("button"); 
? ? ? ? ? ? ? ? ? ? ? ? title.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? ? ? author.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? ? ? description.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? ? ? category.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? ? ? title.innerText = book.title; 
? ? ? ? ? ? ? ? ? ? ? ? author.innerText = book.author; 
? ? ? ? ? ? ? ? ? ? ? ? description.innerText = book.description; 
? ? ? ? ? ? ? ? ? ? ? ? category.innerText = book.category; 
? ? ? ? ? ? ? ? ? ? ? ? feedback.innerText = "Feedback"; 
? ? ? ? ? ? ? ? ? ? ? ? purchase.innerText = "Add"; 
? ? ? ? ? ? ? ? ? ? ? ? deleteBook.innerText = "Delete"; 
? ? ? ? ? ? ? ? ? ? ? ? feedback.onclick = navigateFeedbackPage; 
? ? ? ? ? ? ? ? ? ? ? ? purchase.onclick = navigatePurchasePage; 
? ? ? ? ? ? ? ? ? ? ? ? deleteBook.onclick = navigateDeletePage; 
? ? ? ? ? ? ? ? ? ? ? ? row.id = book.bookId; 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(title); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(author); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(description); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(category); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(feedback); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(purchase); 
? ? ? ? ? ? ? ? ? ? ? ? row.appendChild(deleteBook) 
? ? ? ? ? ? ? ? ? ? ? ? document.getElementById("searchBook").appendChild(row); 
? ? ? ? ? ? ? ? ? ? ? ? document.getElementById("searchBook").style.display = "table"; 
? ? ? ? ? ? ? ? ? ? } 
? ? ? ? ? ? ? ? } 
? ? ? ? ? ? } else { 
? ? ? ? ? ? ? ? document.getElementById("errorMessage").innerText = data.commonResponse.message; 
? ? ? ? ? ? } 
? ? ? ? }) 
? ? ? ? .catch(err => { 
? ? ? ? ? ? console.log(err); 
? ? ? ? }) 
}) 
