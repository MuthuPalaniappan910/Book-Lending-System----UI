const addBook = document.getElementById('addBook'); 
 
addBook.addEventListener('click', (e) => { 
? ? e.preventDefault(); 
? ? const newBookPublishUrl = `http://localhost:8800/books/book/new`; 
? ? const author = document.querySelector('#author').value; 
? ? const title = document.querySelector('#title').value; 
? ? const mrp = document.querySelector('#mrp').value; 
? ? const description = document.querySelector('#description').value; 
? ? const totalStock = document.querySelector('#totalStock').value; 
? ? const category = document.querySelector('#category').value; 
? ? const customerId = localStorage.getItem('customerId'); 
? ? const bookDamages = document.querySelector('damage') 
 
? ? fetch(newBookPublishUrl, { 
? ? ? ? "method": "POST", 
? ? ? ? headers: { 
? ? ? ? ? ? 'Content-Type': 'application/json' 
? ? ? ? }, 
? ? ? ? body: JSON.stringify({ 
? ? ? ? ? ? newBookRequestDtoList: [{ 
? ? ? ? ? ? ? ? author: author, 
? ? ? ? ? ? ? ? title: title, 
? ? ? ? ? ? ? ? mrp: mrp, 
? ? ? ? ? ? ? ? description: description, 
? ? ? ? ? ? ? ? totalStock: totalStock, 
? ? ? ? ? ? ? ? customerId: customerId, 
? ? ? ? ? ? ? ? newBookDamageRequestDtoList: [ 
? ? ? ? ? ? ? ? ? ? { 
? ? ? ? ? ? ? ? ? ? ? ? damageDescription: bookDamages 
? ? ? ? ? ? ? ? ? ? } 
? ? ? ? ? ? ? ? ], 
? ? ? ? ? ? ? ? category: category 
? ? ? ? ? ? } 
? ? ? ? ? ? ], 
? ? ? ? }) 
? ? }) 
? ? ? ? .then(response => { 
? ? ? ? ? ? console.log(response); 
? ? ? ? ? ? if (response.status === 200) { 
? ? ? ? ? ? ? ? return response.json(); 
? ? ? ? ? ? } else { 
? ? ? ? ? ? ? ? throw new Error(response.status); 
? ? ? ? ? ? } 
? ? ? ? }) 
? ? ? ? .then(data => { 
? ? ? ? ? ? if (data.response.result) { 
? ? ? ? ? ? ? ? console.log("New Book Publish Response : ", data.response.message); 
? ? ? ? ? ? ? ? document.getElementById("message").innerText = "Book Added Successfully. Thanks for your Contribution"; 
? ? ? ? ? ? } else { 
? ? ? ? ? ? ? ? console.log(data.message); 
? ? ? ? ? ? ? ? document.getElementById("message").innerText = data.response.message; 
? ? ? ? ? ? } 
? ? ? ? }) 
}) 
