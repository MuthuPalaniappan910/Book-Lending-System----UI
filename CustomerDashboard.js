const id = localStorage.getItem('customerId'); 
const customerDashboardUrl = `http://localhost:8801/customer/${id}/dashboard`; 
 
fetch(customerDashboardUrl, { 
? ? "method": "GET", 
? ? headers: { 
? ? ? ? 'Content-Type': 'application/json' 
? ? }, 
}) 
? ? .then(response => { 
? ? ? ? console.log(response); 
? ? ? ? if (response.status === 200) { 
? ? ? ? ? ? return response.json(); 
? ? ? ? } else { 
? ? ? ? ? ? throw new Error(response.status); 
? ? ? ? } 
? ? }) 
? ? .then(data => { 
? ? ? ? if (data.commonResponse.result) { 
? ? ? ? ? ? console.log(data.booksRent); 
? ? ? ? ? ? const booksRent = data.booksRent; 
? ? ? ? ? ? const booksFurnished = data.booksLent; 
? ? ? ? ? ? if (booksFurnished != null) { 
? ? ? ? ? ? ? ? for (var furnishedBook = 0; furnishedBook < booksFurnished.length; furnishedBook++) { 
? ? ? ? ? ? ? ? ? ? const book = booksFurnished[furnishedBook]; 
? ? ? ? ? ? ? ? ? ? const row = document.createElement("tr"); 
? ? ? ? ? ? ? ? ? ? const toCustomerId = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const title = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const startDate = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const endDate = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? toCustomerId.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? title.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? startDate.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? endDate.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? title.innerText = book.title; 
? ? ? ? ? ? ? ? ? ? toCustomerId.innerText = book.toCustomerId; 
? ? ? ? ? ? ? ? ? ? startDate.innerText = book.startDate; 
? ? ? ? ? ? ? ? ? ? endDate.innerText = book.endDate; 
? ? ? ? ? ? ? ? ? ? row.appendChild(toCustomerId); 
? ? ? ? ? ? ? ? ? ? row.appendChild(title); 
? ? ? ? ? ? ? ? ? ? row.appendChild(startDate); 
? ? ? ? ? ? ? ? ? ? row.appendChild(endDate); 
? ? ? ? ? ? ? ? ? ? document.getElementById("furnishDashboard").appendChild(row); 
? ? ? ? ? ? ? ? ? ? document.getElementById("furnishDashboard").style.display = "table"; 
? ? ? ? ? ? ? ? } 
? ? ? ? ? ? } 
? ? ? ? ? ? if (booksRent != null) { 
? ? ? ? ? ? ? ? console.log(booksRent.length); 
? ? ? ? ? ? ? ? console.log(booksRent); 
? ? ? ? ? ? ? ? for (var rentedBook = 0; rentedBook < booksRent.length; rentedBook++) { 
? ? ? ? ? ? ? ? ? ? const book = booksRent[rentedBook]; 
? ? ? ? ? ? ? ? ? ? const row = document.createElement("tr"); 
? ? ? ? ? ? ? ? ? ? const fromCustomerId = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const title = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const startDate = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const endDate = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? const renew = document.createElement("button"); 
? ? ? ? ? ? ? ? ? ? const additionalAmountForRenew = document.createElement("td"); 
? ? ? ? ? ? ? ? ? ? if (book.renewable) { 
? ? ? ? ? ? ? ? ? ? ? ? renew.innerText = "Renew"; 
? ? ? ? ? ? ? ? ? ? ? ? additionalAmountForRenew.innerText = book.additionalAmountForRenew; 
? ? ? ? ? ? ? ? ? ? } else { 
? ? ? ? ? ? ? ? ? ? ? ? renew.innerText = "Renew"; 
? ? ? ? ? ? ? ? ? ? ? ? renew.disabled=true; ? ? ? ? ? ? ? ? ? ? ?  
? ? ? ? ? ? ? ? ? ? ? ? additionalAmountForRenew.innerText = "Not Applicable"; 
? ? ? ? ? ? ? ? ? ? } 
? ? ? ? ? ? ? ? ? ? fromCustomerId.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? title.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? startDate.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? endDate.className = "row-data"; 
? ? ? ? ? ? ? ? ? ? title.innerText = book.title; 
? ? ? ? ? ? ? ? ? ? fromCustomerId.innerText = book.fromCustomerId; 
? ? ? ? ? ? ? ? ? ? startDate.innerText = book.startDate; 
? ? ? ? ? ? ? ? ? ? endDate.innerText = book.endDate; 
? ? ? ? ? ? ? ? ? ? renew.onclick = navigateRenewPage; 
? ? ? ? ? ? ? ? ? ? row.id = book.lendId; 
? ? ? ? ? ? ? ? ? ? row.appendChild(fromCustomerId); 
? ? ? ? ? ? ? ? ? ? row.appendChild(title); 
? ? ? ? ? ? ? ? ? ? row.appendChild(startDate); 
? ? ? ? ? ? ? ? ? ? row.appendChild(endDate); 
? ? ? ? ? ? ? ? ? ? row.appendChild(renew); 
? ? ? ? ? ? ? ? ? ? row.appendChild(additionalAmountForRenew); 
? ? ? ? ? ? ? ? ? ? document.getElementById("rentDashboard").appendChild(row); 
? ? ? ? ? ? ? ? ? ? document.getElementById("rentDashboard").style.display = "table"; 
? ? ? ? ? ? ? ? } 
? ? ? ? ? ? } 
? ? ? ? } else { 
? ? ? ? ? ? console.log(data.message); 
? ? ? ? ? ? document.getElementById("errorMessage").innerText = data.commonResponse.message; 
? ? ? ? } 
? ? }) 
